import{r as o,j as e,S as b,B as t,a as k,T as s,b as j,V as A,c as F,I as g}from"./index-CySiJ9US.js";import{F as w,a as f,b as z}from"./index-l5Nv6hqG.js";const E=()=>{const[u,h]=o.useState([]),[m,p]=o.useState(!0),[x,S]=o.useState({});o.useEffect(()=>{(async()=>{try{const n=(await j.get("/aspirations")).data.data,d={};["","Menunggu","Diproses","Pending","Selesai","Ditolak"].forEach(i=>{d[i]=n.filter(y=>y.status===i).slice(0,3)}),h(Object.values(d).flat())}catch(l){console.error("Gagal mengambil data:",l)}finally{p(!1)}})()},[]);const c=a=>{switch(a){case"Menunggu":return"#FFC107";case"Diproses":return"#2196F3";case"Pending":return"#FF9800";case"Selesai":return"#4CAF50";case"Ditolak":return"#F44336";default:return"#9E9E9E"}};return m?e.jsx(b,{size:"xl"}):e.jsx(t,{p:5,children:e.jsx(k,{columns:{base:1,sm:2,md:3,lg:4},spacing:6,children:u.map(a=>e.jsxs(t,{p:5,borderWidth:2,borderColor:c(a.status),borderRadius:"lg",boxShadow:"md",bg:"white",children:[e.jsxs(s,{fontWeight:"bold",fontSize:"lg",color:"teal.500",mb:2,children:["Token: ",a.id]}),e.jsx(s,{fontWeight:"semibold",color:"gray.700",mb:2,children:a.jenis}),e.jsx(s,{color:"gray.600",mb:2,children:a.keterangan}),e.jsxs(s,{color:"gray.500",fontStyle:"italic",mb:2,children:[a.desa,", ",a.kecamatan]}),e.jsxs(s,{color:"gray.600",fontWeight:"bold",mb:2,children:["Status: ",a.status||"Tanpa Status"]}),e.jsx(s,{color:"gray.500",mb:4,children:a.keterangan_status})]},a.id))})})},D=()=>{const[u,h]=o.useState([]),[m,p]=o.useState(!0);if(o.useEffect(()=>{(async()=>{try{const a=(await j.get("/aspirations")).data.data,l=["","Menunggu","Diproses","Pending","Selesai","Ditolak"],n={};l.forEach(r=>n[r]=[]),a.forEach(r=>{const i=r.status||"Tanpa Status";n[i]||(n[i]=[]),n[i].length<3&&n[i].push(r)});const d=l.filter(r=>n[r].length>0).flatMap(r=>n[r]);h(d)}catch(c){console.error("Gagal mengambil data:",c)}finally{p(!1)}})()},[]),m)return e.jsx(t,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:e.jsx(b,{size:"xl",color:"blue.500"})});const x=localStorage.getItem("userName");return e.jsxs(t,{p:1,maxW:"container.xl",mx:"auto",children:[e.jsxs(t,{textAlign:"center",mb:6,p:4,bg:"blue.50",borderRadius:"lg",boxShadow:"md",children:[e.jsxs(s,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:"teal.600",children:["Selamat datang, ",x||"Pengguna!"]}),e.jsx(s,{fontSize:{base:"sm",md:"md"},color:"gray.600",mt:2,children:"Terima kasih telah menggunakan Donggala APP. Mari berkontribusi dengan menyampaikan aspirasi Anda!"})]}),e.jsx(t,{p:5,borderRadius:"lg",boxShadow:"md",bg:"gray.50",children:e.jsxs(A,{spacing:4,align:"start",children:[e.jsx(s,{fontSize:"lg",fontWeight:"bold",color:"teal.600",children:"Panduan Penggunaan Donggala APP"}),e.jsxs(F,{spacing:3,direction:{base:"column",md:"row"},children:[e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(g,{as:w,color:"blue.500",mr:2}),e.jsxs(s,{fontSize:"sm",children:["Untuk memberikan aspirasi, pilih"," ",e.jsx(s,{as:"span",fontWeight:"bold",color:"blue.600",children:"Form Aspirasi"}),"."]})]}),e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(g,{as:f,color:"green.500",mr:2}),e.jsxs(s,{fontSize:"sm",children:["Untuk melihat semua aspirasi, pilih"," ",e.jsx(s,{as:"span",fontWeight:"bold",color:"green.600",children:"Semua Aspirasi"}),"."]})]}),e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(g,{as:f,color:"yellow.500",mr:2}),e.jsxs(s,{fontSize:"sm",children:["Untuk melihat aspirasi Anda, pilih"," ",e.jsx(s,{as:"span",fontWeight:"bold",color:"yellow.600",children:"Aspirasi Saya"}),"."]})]}),e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(g,{as:z,color:"purple.500",mr:2}),e.jsxs(s,{fontSize:"sm",children:["Untuk melihat profil, pilih"," ",e.jsx(s,{as:"span",fontWeight:"bold",color:"purple.600",children:"Profil"}),"."]})]})]})]})}),e.jsx(t,{textAlign:"center",p:3,bg:"gray.50",borderRadius:"md",boxShadow:"sm",mt:6,children:e.jsx(s,{fontSize:"sm",color:"gray.600",children:"Di halaman ini, kami hanya menampilkan sebagian aspirasi yang telah diajukan oleh semua pengguna."})}),e.jsx(E,{aspirations:u})]})};export{D as default};
