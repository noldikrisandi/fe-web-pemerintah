import{J as Ce,r as o,j as t,d as N,K as Se,N as Z,O as ee,P as je,Q as b,R as r,U as ue,f as Pe,W as Ie,o as Ee,X as De,Y as ne,e as Le,q as Fe,Z as Me,B as Re,H as Ae,F as w,E as P,G as I,m as Be,b as Ke}from"./index-CySiJ9US.js";import{F as X}from"./chunk-WWJYOSXC-C_O2xmI7.js";var[dt,Ne]=Ce({name:"CheckboxGroupContext",strict:!1});function _e(e){const[i,a]=o.useState(e),[s,d]=o.useState(!1);return e!==i&&(d(!0),a(e)),s}function $e(e){return t.jsx(N.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:t.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function qe(e){return t.jsx(N.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:t.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Ve(e){const{isIndeterminate:i,isChecked:a,...s}=e,d=i?qe:$e;return a||i?t.jsx(N.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:t.jsx(d,{...s})}):null}var We={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};const He=()=>typeof document<"u";let me=!1,U=null,R=!1,te=!1;const ae=new Set;function se(e,i){ae.forEach(a=>a(e,i))}const Ue=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function Oe(e){return!(e.metaKey||!Ue&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function fe(e){R=!0,Oe(e)&&(U="keyboard",se("keyboard",e))}function K(e){if(U="pointer",e.type==="mousedown"||e.type==="pointerdown"){R=!0;const i=e.composedPath?e.composedPath()[0]:e.target;let a=!1;try{a=i.matches(":focus-visible")}catch{}if(a)return;se("pointer",e)}}function Te(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Ge(e){Te(e)&&(R=!0,U="virtual")}function ze(e){e.target===window||e.target===document||(!R&&!te&&(U="virtual",se("virtual",e)),R=!1,te=!1)}function Xe(){R=!1,te=!0}function he(){return U!=="pointer"}function Ye(){if(!He()||me)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...a){R=!0,e.apply(this,a)},document.addEventListener("keydown",fe,!0),document.addEventListener("keyup",fe,!0),document.addEventListener("click",Ge,!0),window.addEventListener("focus",ze,!0),window.addEventListener("blur",Xe,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",K,!0),document.addEventListener("pointermove",K,!0),document.addEventListener("pointerup",K,!0)):(document.addEventListener("mousedown",K,!0),document.addEventListener("mousemove",K,!0),document.addEventListener("mouseup",K,!0)),me=!0}function Je(e){Ye(),e(he());const i=()=>e(he());return ae.add(i),()=>{ae.delete(i)}}function Qe(e,i=[]){const a=Object.assign({},e);for(const s of i)s in a&&delete a[s];return a}function Ze(e={}){const i=Se(e),{isDisabled:a,isReadOnly:s,isRequired:d,isInvalid:c,id:h,onBlur:E,onFocus:D,"aria-describedby":L}=i,{defaultChecked:y,isChecked:F,isFocusable:C,onChange:_,isIndeterminate:l,name:M,value:S,tabIndex:m=void 0,"aria-label":u,"aria-labelledby":x,"aria-invalid":k,...Y}=e,$=Qe(Y,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),q=Z(_),O=Z(E),V=Z(D),[A,J]=o.useState(!1),[j,T]=o.useState(!1),[W,oe]=o.useState(!1),[H,B]=o.useState(!1);o.useEffect(()=>Je(J),[]);const g=o.useRef(null),[re,pe]=o.useState(!0),[be,G]=o.useState(!!y),Q=F!==void 0,f=Q?F:be,ie=o.useCallback(n=>{if(s||a){n.preventDefault();return}Q||G(f?n.target.checked:l?!0:n.target.checked),q==null||q(n)},[s,a,f,Q,l,q]);ee(()=>{g.current&&(g.current.indeterminate=!!l)},[l]),je(()=>{a&&T(!1)},[a,T]),ee(()=>{const n=g.current;if(!(n!=null&&n.form))return;const p=()=>{G(!!y)};return n.form.addEventListener("reset",p),()=>{var v;return(v=n.form)==null?void 0:v.removeEventListener("reset",p)}},[]);const ce=a&&!C,le=o.useCallback(n=>{n.key===" "&&B(!0)},[B]),de=o.useCallback(n=>{n.key===" "&&B(!1)},[B]);ee(()=>{if(!g.current)return;g.current.checked!==f&&G(g.current.checked)},[g.current]);const ge=o.useCallback((n={},p=null)=>{const v=z=>{j&&z.preventDefault(),B(!0)};return{...n,ref:p,"data-active":r(H),"data-hover":r(W),"data-checked":r(f),"data-focus":r(j),"data-focus-visible":r(j&&A),"data-indeterminate":r(l),"data-disabled":r(a),"data-invalid":r(c),"data-readonly":r(s),"aria-hidden":!0,onMouseDown:b(n.onMouseDown,v),onMouseUp:b(n.onMouseUp,()=>B(!1)),onMouseEnter:b(n.onMouseEnter,()=>oe(!0)),onMouseLeave:b(n.onMouseLeave,()=>oe(!1))}},[H,f,a,j,A,W,l,c,s]),ve=o.useCallback((n={},p=null)=>({...n,ref:p,"data-active":r(H),"data-hover":r(W),"data-checked":r(f),"data-focus":r(j),"data-focus-visible":r(j&&A),"data-indeterminate":r(l),"data-disabled":r(a),"data-invalid":r(c),"data-readonly":r(s)}),[H,f,a,j,A,W,l,c,s]),ye=o.useCallback((n={},p=null)=>({...$,...n,ref:ue(p,v=>{v&&pe(v.tagName==="LABEL")}),onClick:b(n.onClick,()=>{var v;re||((v=g.current)==null||v.click(),requestAnimationFrame(()=>{var z;(z=g.current)==null||z.focus({preventScroll:!0})}))}),"data-disabled":r(a),"data-checked":r(f),"data-invalid":r(c)}),[$,a,f,c,re]),xe=o.useCallback((n={},p=null)=>({...n,ref:ue(g,p),type:"checkbox",name:M,value:S,id:h,tabIndex:m,onChange:b(n.onChange,ie),onBlur:b(n.onBlur,O,()=>T(!1)),onFocus:b(n.onFocus,V,()=>T(!0)),onKeyDown:b(n.onKeyDown,le),onKeyUp:b(n.onKeyUp,de),required:d,checked:f,disabled:ce,readOnly:s,"aria-label":u,"aria-labelledby":x,"aria-invalid":k?!!k:c,"aria-describedby":L,"aria-disabled":a,style:We}),[M,S,h,ie,O,V,le,de,d,f,ce,s,u,x,k,c,L,a,m]),we=o.useCallback((n={},p=null)=>({...n,ref:p,onMouseDown:b(n.onMouseDown,et),"data-disabled":r(a),"data-checked":r(f),"data-invalid":r(c)}),[f,a,c]);return{state:{isInvalid:c,isFocused:j,isChecked:f,isActive:H,isHovered:W,isIndeterminate:l,isDisabled:a,isReadOnly:s,isRequired:d},getRootProps:ye,getCheckboxProps:ge,getIndicatorProps:ve,getInputProps:xe,getLabelProps:we,htmlProps:$}}function et(e){e.preventDefault(),e.stopPropagation()}var tt={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},at={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},nt=ne({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),st=ne({from:{opacity:0},to:{opacity:1}}),ot=ne({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),ke=Pe(function(i,a){const s=Ne(),d={...s,...i},c=Ie("Checkbox",d),h=Ee(i),{spacing:E="0.5rem",className:D,children:L,iconColor:y,iconSize:F,icon:C=t.jsx(Ve,{}),isChecked:_,isDisabled:l=s==null?void 0:s.isDisabled,onChange:M,inputProps:S,...m}=h;let u=_;s!=null&&s.value&&h.value&&(u=s.value.includes(h.value));let x=M;s!=null&&s.onChange&&h.value&&(x=De(s.onChange,M));const{state:k,getInputProps:Y,getCheckboxProps:$,getLabelProps:q,getRootProps:O}=Ze({...m,isDisabled:l,isChecked:u,onChange:x}),V=_e(k.isChecked),A=o.useMemo(()=>({animation:V?k.isIndeterminate?`${st} 20ms linear, ${ot} 200ms linear`:`${nt} 200ms linear`:void 0,fontSize:F,color:y,...c.icon}),[y,F,V,k.isIndeterminate,c.icon]),J=o.cloneElement(C,{__css:A,isIndeterminate:k.isIndeterminate,isChecked:k.isChecked});return t.jsxs(N.label,{__css:{...at,...c.container},className:Le("chakra-checkbox",D),...O(),children:[t.jsx("input",{className:"chakra-checkbox__input",...Y(S,a)}),t.jsx(N.span,{__css:{...tt,...c.control},className:"chakra-checkbox__control",...$(),children:J}),L&&t.jsx(N.span,{className:"chakra-checkbox__label",...q(),__css:{marginStart:E,...c.label},children:L})]})});ke.displayName="Checkbox";const rt=()=>{const e=new Date,i=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),d=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0"),h=String(e.getSeconds()).padStart(2,"0"),E=Math.random().toString(36).substring(2,6).toUpperCase();return`${i}${a}${s}${d}${c}${h}${E}`},ut=()=>{const[e,i]=o.useState({id:rt(),email:"",password:"",confirmPassword:"",nama:"",nik:"",nokk:"",wa:""}),[a,s]=o.useState(!1),[d,c]=o.useState(!0),[h,E]=o.useState(!0),[D,L]=o.useState(!0),[y,F]=o.useState(!0),C=Fe(),_=Me(),l=S=>{const{name:m,value:u}=S.target;i(x=>{const k={...x,[m]:u};return m==="confirmPassword"&&c(k.password===u),m==="password"&&c(u===k.confirmPassword),m==="nik"&&E(/^[0-9]{16}$/.test(u)),m==="nokk"&&L(/^[0-9]{16}$/.test(u)),m==="wa"&&F(/^\+?62\d{9,13}$|^08\d{8,11}$/.test(u)),k})},M=async S=>{var m,u;if(S.preventDefault(),!h||!D||!y){C({title:"Harap periksa kembali data yang dimasukkan.",status:"error"});return}if(e.password!==e.confirmPassword){C({title:"Password tidak cocok!",status:"error"});return}try{await Ke.post("/register",e),C({title:"Registrasi berhasil!",status:"success"}),_("/login")}catch(x){C({title:"Registrasi gagal!",description:((u=(m=x.response)==null?void 0:m.data)==null?void 0:u.error)||"Silakan periksa kembali data yang Anda masukkan.",status:"error"})}};return t.jsxs(Re,{maxW:"md",mx:"auto",mt:10,p:5,borderWidth:1,borderRadius:"md",children:[t.jsx(Ae,{as:"h2",mb:6,textAlign:"center",children:"Register"}),t.jsxs("form",{onSubmit:M,children:[t.jsxs(w,{mb:4,hidden:!0,children:[t.jsx(P,{children:"ID (Otomatis)"}),t.jsx(I,{type:"text",name:"id",value:e.id,isReadOnly:!0})]}),t.jsxs(w,{mb:4,children:[t.jsx(P,{children:"Email"}),t.jsx(I,{type:"email",name:"email",value:e.email,onChange:l,required:!0})]}),t.jsxs(w,{mb:4,children:[t.jsx(P,{children:"Password"}),t.jsx(I,{type:a?"text":"password",name:"password",value:e.password,onChange:l,required:!0})]}),t.jsxs(w,{mb:4,isInvalid:!d,children:[t.jsx(P,{children:"Konfirmasi Password"}),t.jsx(I,{type:a?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:l,borderColor:d?"gray.200":"red.500",required:!0}),!d&&t.jsx(X,{children:"Password tidak cocok."})]}),t.jsx(w,{mb:4,children:t.jsx(ke,{onChange:()=>s(!a),children:"Perlihatkan Password"})}),t.jsxs(w,{mb:4,children:[t.jsx(P,{children:"Nama"}),t.jsx(I,{type:"text",name:"nama",value:e.nama,onChange:l,required:!0})]}),t.jsxs(w,{mb:4,isInvalid:!h,children:[t.jsx(P,{children:"NIK"}),t.jsx(I,{type:"text",name:"nik",value:e.nik,onChange:l,required:!0}),!h&&t.jsx(X,{children:"NIK harus berisi 16 digit angka."})]}),t.jsxs(w,{mb:4,isInvalid:!D,children:[t.jsx(P,{children:"Nomer Kartu Keluarga"}),t.jsx(I,{type:"text",name:"nokk",value:e.nokk,onChange:l,required:!0}),!D&&t.jsx(X,{children:"Nomer Kartu Keluarga harus berisi 16 digit angka."})]}),t.jsxs(w,{mb:4,isInvalid:!y,children:[t.jsx(P,{children:"Nomer WA Aktif"}),t.jsx(I,{type:"text",name:"wa",value:e.wa,onChange:l,required:!0}),!y&&t.jsx(X,{children:"Masukkan nomor WA yang valid dengan format +62 atau 08."})]}),t.jsx(Be,{colorScheme:"blue",width:"full",type:"submit",children:"Register"})]})]})};export{ut as default};
